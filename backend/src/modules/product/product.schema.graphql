# =============================================================================
# Product Module GraphQL Schema
# =============================================================================
# Defines the Product entity and related operations.
# Products are the core building blocks containing tasks, licenses, and outcomes.
# =============================================================================

"""
Product entity representing a software product with tasks and configurations.
Implements Node interface for Relay specification compliance.
"""
type Product implements Node {
  id: ID!
  name: String!
  resources: [Resource!]
  tasks(first: Int, after: String, last: Int, before: String): TaskConnection!
  statusPercent: Int!
  completionPercentage: Int!
  customAttrs: JSON
  solutions: [Solution!]!
  customers: [Customer!]!
  licenses: [License!]!
  outcomes: [Outcome!]!
  releases: [Release!]!
  tags: [ProductTag!]!
}

type ProductEdge {
  cursor: String!
  node: Product!
}

type ProductConnection {
  edges: [ProductEdge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

input ProductInput {
  name: String!
  resources: [ResourceInput!]
  customAttrs: JSON
  licenseIds: [ID!]
}

extend type Query {
  product(id: ID!): Product
  products(first: Int, after: String, last: Int, before: String): ProductConnection!
}

extend type Mutation {
  createProduct(input: ProductInput!): Product!
  updateProduct(id: ID!, input: ProductInput!): Product!
  deleteProduct(id: ID!): Boolean!
}
